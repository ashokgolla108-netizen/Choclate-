<!DOCTYPE html>
<html lang="te">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chocolate Question ‚ù§Ô∏è</title>
<style>
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  overflow:hidden;
  text-align:center;
  color:white;
  background: linear-gradient(135deg,#ff6699,#ffcc66);
  display:flex;
  flex-direction:column;
  justify-content:flex-start;
  height:100vh;
}

h1{ 
  text-shadow:0 3px 8px rgba(0,0,0,.5); 
  margin-top:20px;
  font-size:2rem;
}

/* Bottom panel */
.bottomPanel{
  margin-top:auto;
  padding-bottom:50px;
}

.buttons{ 
  margin-top:15px; 
}
button{
  padding:15px 30px;
  font-size:1.2rem;
  border:none;
  border-radius:50px;
  cursor:pointer;
  margin:0 10px;
}
#yes{ background:#ff0033; color:white;}
#no{ background:white; color:#ff0033;}

#message{
  font-size:1.8rem;
  margin:20px auto;
  padding:14px 22px;
  max-width:90%;
  background:rgba(255,255,255,0.85);
  border-radius:20px;
  color:#5a2d0c;
  font-weight:bold;
  min-height:60px;
}

/* Emoji rain */
.emoji{
  position:fixed;
  bottom:-30px;
  font-size:30px;
  animation:floatUp linear forwards;
  z-index:2;
}
@keyframes floatUp{
  from{transform:translateY(0);opacity:1;}
  to{transform:translateY(-120vh);opacity:0;}
}
</style>
</head>
<body>

<h1 id="question">Chocolate kavala? üç´</h1>

<div class="bottomPanel">
  <div class="buttons">
    <button id="yes">Yes üç´</button>
    <button id="no">No üòú</button>
  </div>
  <div id="message"></div>
</div>

<audio id="song" src="song2.mp3" loop></audio>

<script>
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const messageBox = document.getElementById("message");
const song = document.getElementById("song");
const question = document.getElementById("question");

/* Start song on first click anywhere */
document.body.addEventListener("click",()=>{
  song.play();
},{once:true});

/* YES sequence steps */
const yesFlow = [
  {msg:"Navvithe chocolate istha üç´üòú", wait:10000},
  {msg:"Navvi unte YES meedha click chey üòâ", wait:0, waitClick:true},

  {msg:"Inkosari navvithi 2 chocolates üç´üç´", wait:10000},
  {msg:"Navvi unte YES kottu üòéüç´", wait:0, waitClick:true},

  {msg:"I love you chepithe 10 chocolates ‚ù§Ô∏èüç´üç´üç´üç´üç´üç´üç´üç´üç´üç´", wait:10000},
  {msg:"Love you cheppi unte YES click chey üòç", wait:0, waitClick:true},

  {msg:"Nuve chocolate laa unna neeku endhuku chocolate üòú nenu ye ninnu thinestha üòÇ", wait:0, waitClick:false, final:true}
];

let stepIndex = 0;

/* Handle YES button click */
yesBtn.onclick = ()=>{
  // Hide NO button after first YES click
  noBtn.style.display="none";
  question.style.display="none"; // hide the initial question
  nextStep();
};

/* NO button messages */
const noMessages = [
  "Inkosari alochinchu choclates chala unnayi üç´üòú",
  "1 YES touch chesthe chocolate vasthayi üòéüç´",
  "Nuvvu navvithe naaku chocolate ivvali üòÇ"
];
let noIndex = 0;
noBtn.onclick = ()=>{
  messageBox.textContent = noMessages[noIndex];
  noIndex=(noIndex+1)%noMessages.length;
};

/* Function to show next step */
function nextStep(){
  if(stepIndex >= yesFlow.length) return;
  let step = yesFlow[stepIndex];

  messageBox.textContent = step.msg;
  stepIndex++;

  if(step.final){
    return;
  }

  if(step.waitClick){
    // wait for YES click, do nothing
    return;
  } else if(step.wait>0){
    setTimeout(nextStep, step.wait);
  }
}

/* Emoji rain */
setInterval(()=>{
  const e = document.createElement("div");
  e.className="emoji";
  e.innerText = Math.random()>0.5?"üç´":"‚ù§Ô∏è";
  e.style.left = Math.random()*100+"vw";
  e.style.animationDuration=(3+Math.random()*3)+"s";
  document.body.appendChild(e);
  setTimeout(()=>e.remove(),6000);
},300);
</script>

</body>
</html>
